<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>查看分享内容 - QuickShare</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>QuickShare</h1>
            <p class="subtitle">安全分享，阅后即焚</p>
        </header>

        <main class="main">
            <!-- 加载状态 -->
            <div id="loading-section" class="loading-section">
                <div class="loading-spinner"></div>
                <p>正在获取内容...</p>
            </div>

            <!-- 密码输入区域 -->
            <div id="password-section" class="password-section" style="display: none;">
                <div class="card">
                    <h2>
                        <i class="icon">🔒</i>
                        内容已加密
                    </h2>
                    <p class="card-description">此内容需要密码才能查看</p>
                    
                    <form id="password-form">
                        <div class="form-group">
                            <label for="password-input">密码</label>
                            <input 
                                type="password" 
                                id="password-input" 
                                name="password" 
                                placeholder="请输入密码"
                                required
                                class="form-control"
                            >
                        </div>
                        
                        <button type="submit" id="decrypt-button" class="btn btn-primary">
                            <i class="icon">🔓</i>
                            解密查看
                        </button>
                    </form>
                    
                    <div id="password-error" class="error-message" style="display: none;"></div>
                </div>
            </div>

            <!-- 内容显示区域 -->
            <div id="content-section" class="content-section" style="display: none;">
                <div class="paste-container">
                    <div class="paste-header">
                        <h2>
                            <i class="icon">📄</i>
                            分享内容
                        </h2>
                        <div class="paste-meta">
                            <span id="expire-info" class="meta-info"></span>
                            <span id="views-info" class="meta-info"></span>
                        </div>
                    </div>
                    
                    <div class="paste-content">
                        <pre id="paste-content" class="paste-text"></pre>
                    </div>
                    
                    <div class="paste-actions">
                        <button id="copy-button" class="btn btn-secondary">
                            <i class="icon">📋</i>
                            复制内容
                        </button>
                        <button id="new-button" class="btn btn-primary">
                            <i class="icon">➕</i>
                            创建新分享
                        </button>
                    </div>
                </div>
                
                <!-- 自毁警告 -->
                <div id="destroy-warning" class="destroy-warning" style="display: none;">
                    <div class="warning-content">
                        <i class="icon">⚠️</i>
                        <p><strong>注意：</strong>此内容将在访问后自动销毁</p>
                    </div>
                </div>
            </div>

            <!-- 错误信息区域 -->
            <div id="error-section" class="error-section" style="display: none;">
                <div class="card error-card">
                    <div class="error-icon">❌</div>
                    <h2>无法访问内容</h2>
                    <p id="error-message"></p>
                    <div class="error-actions">
                        <button id="retry-button" class="btn btn-secondary">
                            <i class="icon">🔄</i>
                            重试
                        </button>
                        <button id="home-button" class="btn btn-primary">
                            <i class="icon">🏠</i>
                            返回首页
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <!-- 页脚 -->
        <footer class="footer">
            <p>&copy; 2024 QuickShare. 安全分享，阅后即焚。</p>
        </footer>
    </div>

    <!-- 复制成功提示 -->
    <div id="copy-toast" class="toast" style="display: none;">
        <i class="icon">✅</i>
        <span id="copy-message">内容已复制到剪贴板</span>
    </div>

    <script src="/static/view.js"></script>
</body>
</html>
